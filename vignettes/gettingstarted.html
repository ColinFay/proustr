<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Colin FAY" />

<meta name="date" content="2018-03-20" />

<title>Getting started with proustr</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Getting started with proustr</h1>
<h4 class="author"><em>Colin FAY</em></h4>
<h4 class="date"><em>2018-03-20</em></h4>



<div id="tools-for-natural-language-processing-in-french-and-texts-from-marcel-prousts-collection-a-la-recherche-du-temps-perdu" class="section level2">
<h2>Tools for Natural Language Processing in French and texts from Marcel Proust’s collection “A La Recherche Du Temps Perdu”</h2>
<p>This package gives you access to tools designed to do Natural Language Processing in French. You can use these tools with the books from Marcel Proust “À la recherche du temps perdu”, which are provided in this package. Of course, these tools can be expanded to almost all french texts.</p>
<p>All the functions from this package are consistent with the tidyverse philosophy.</p>
<p>Here is a list of all the books contained in this pacakage :</p>
<ul>
<li>Du côté de chez Swann (1913): <code>ducotedechezswann</code>.</li>
<li>À l’ombre des jeunes filles en fleurs (1919): <code>alombredesjeunesfillesenfleurs</code>.</li>
<li>Le Côté de Guermantes (1921): <code>lecotedeguermantes</code>.</li>
<li>Sodome et Gomorrhe (1922) : <code>sodomeetgomorrhe</code>.</li>
<li>La Prisonnière (1923) :<code>laprisonniere</code>.</li>
<li>Albertine disparue (1925, also know as : La Fugitive) : <code>albertinedisparue</code>.</li>
<li>Le Temps retrouvé (1927) : <code>letempretrouve</code>.</li>
</ul>
</div>
<div id="find-your-way-into-proustr" class="section level2">
<h2>Find your way into {proustr}</h2>
<p>{proustr} is divided into two type of functions :</p>
<ul>
<li><p><code>proust_*()</code> functions return data objects (books, characters, stop words, random Proust extract…)</p></li>
<li><p><code>pr_*()</code> functions perform actions on the data. <code>pr</code> is short for p(roust)r, pr(oust), p(rocessing f)r(ench), or anything you can think of :). This shortcode refers to functions like <code>pr_clean_punc()</code>.</p></li>
</ul>
</div>
<div id="proust_-functions" class="section level2">
<h2><code>proust_*()</code> functions</h2>
<div id="proust_books" class="section level3">
<h3><code>proust_books()</code></h3>
<p>Get the tibble with all the books :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(proustr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">proust_books</span>()</a></code></pre></div>
<pre><code>## # A tibble: 4,690 x 4
##    text                                                 book  volume  year
##  * &lt;chr&gt;                                                &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1 &quot;Longtemps, je me suis couché de bonne heure. Parfo… Du c… Premi… 1913.
##  2 J'appuyais tendrement mes joues contre les belles j… Du c… Premi… 1913.
##  3 Je me rendormais, et parfois je n'avais plus que de… Du c… Premi… 1913.
##  4 Quelquefois, comme Ève naquit d'une côte d'Adam, un… Du c… Premi… 1913.
##  5 Un homme qui dort tient en cercle autour de lui le … Du c… Premi… 1913.
##  6 &quot;Peut-être l'immobilité des choses autour de nous l… Du c… Premi… 1913.
##  7 Puis renaissait le souvenir d'une nouvelle attitude… Du c… Premi… 1913.
##  8 Ces évocations tournoyantes et confuses ne duraient… Du c… Premi… 1913.
##  9 Certes, j'étais bien éveillé maintenant : mon corps… Du c… Premi… 1913.
## 10 &quot;À Combray, tous les jours dès la fin de l'après-mi… Du c… Premi… 1913.
## # ... with 4,680 more rows</code></pre>
</div>
<div id="proust_characters" class="section level3">
<h3><code>proust_characters()</code></h3>
<p><code>proust_characters</code> returns a tibble with each characters from the books.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">proust_characters</span>()</a></code></pre></div>
<pre><code>## # A tibble: 461 x 1
##    perso          
##  * &lt;chr&gt;          
##  1 A.J.           
##  2 &quot;Académicien &quot; 
##  3 &quot;Adolphe &quot;     
##  4 &quot;Agrigente &quot;   
##  5 &quot;Agrigente &quot;   
##  6 Aimé           
##  7 Albaret Céleste
##  8 Albert         
##  9 Albertine      
## 10 Albon          
## # ... with 451 more rows</code></pre>
</div>
<div id="proust_random" class="section level3">
<h3><code>proust_random()</code></h3>
<p>Create your own Proust text with the proust_random() function :</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">proust_random</span>()</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">[<span class="dv">1</span>] <span class="st">&quot;Cette voix était restée la même, inutilement chaude, prenante, avec un rien d’accent anglais.&quot;</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">purrr<span class="op">::</span><span class="kw">map</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, proust_random)</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">[<span class="dv">1</span>] <span class="st">&quot;Du reste cette réaction des matériaux locaux sur le génie qui les utilise et à qui elle donne plus de verdeur ne rend pas l’œuvre moins individuelle, et que ce soit celle d’un architecte, d’un ébéniste, ou d’un musicien, elle ne reflète pas moins minutieusement les traits les plus subtils de la personnalité de l’artiste, parce qu’il a été forcé de travailler dans la pierre meulière de Senlis ou le grès rouge de Strasbourg, qu’il a respecté les nœuds particuliers au frêne, qu’il a tenu compte dans son écriture des ressources et des limites, de la sonorité, des possibilités, de la flûte ou de l’alto.&quot;</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"></a>
<a class="sourceLine" id="cb5-9" data-line-number="9">[[<span class="dv">2</span>]]</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">[<span class="dv">1</span>] <span class="st">&quot;Aussi bien, pas plus que les saisons à ses bras de mer infleurissables, les modernes années n’apportent de changement à la cité gothique ; je le savais, je ne pouvais l’imaginer, mais voilà ce que je voulais contempler, de ce même désir qui jadis, quand j’étais enfant, dans l’ardeur même du départ, avait brisé en moi la force de partir ; je voulais me trouver face à face avec mes imaginations vénitiennes ; voir comment cette mer divisée enserrait de ses méandres, comme les replis du fleuve Océan, une civilisation urbaine et raffinée, mais qui, isolée par leur ceinture azurée, s’était développée à part, avait eu à part ses écoles de peinture et d’architecture ; admirer ce jardin fabuleux de fruits et d’oiseaux de pierre de couleur, fleuri au milieu de la mer, qui venait le rafraîchir, frappait de son flux le fût des colonnes et, sur le puissant relief des chapiteaux, comme un regard de sombre azur qui veille dans l’ombre, posait par taches et fait remuer perpétuellement la lumière. Ne doutant pas que ce fût pour montrer qu’ils n’étaient pas intimidés par les titres, elle souhaitait d’imiter leur fierté, mais n’avait pas bien saisi par quelle forme grammaticale elle se traduisait.&quot;</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"></a>
<a class="sourceLine" id="cb5-12" data-line-number="12">[[<span class="dv">3</span>]]</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">[<span class="dv">1</span>] <span class="st">&quot;Legrandin qui, retenu à Paris par sa profession d’ingénieur, ne pouvait, en dehors des grandes vacances, venir à sa propriété de Combray que du samedi soir au lundi matin. » Il avait bien pensé dans sa tendresse paternelle et pour émouvoir son fils à faire venir  l’instrument. Il me parla de la grande chaleur qu’il faisait ces jours-ci, mais, bien qu’il fût lettré et eût pu s’exprimer en bon français, il me dit : « Vous ne souffrez pas de cette hyperthermie ?&quot;</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"></a>
<a class="sourceLine" id="cb5-15" data-line-number="15">[[<span class="dv">4</span>]]</a>
<a class="sourceLine" id="cb5-16" data-line-number="16">[<span class="dv">1</span>] <span class="st">&quot;À côté de leur immensité, je trouvai qu’un coup de chapeau serait mesquin et pourrait faire supposer à mon oncle que je ne me croyais pas tenu envers lui à plus qu’à une banale politesse. Comme ce n’était pas un lundi, nous ne savions pas si nous trouverions Mme Verdurin, car sauf ce jour-là, où elle recevait, il était imprudent d’aller la voir à l’improviste. Les mêmes noms de lieux, si troublants pour moi jadis que le simple Annuaire des Châteaux, feuilleté au chapitre du département de la Manche, me causait autant d’émotion que l’Indicateur des chemins de fer, m’étaient devenus si familiers que cet indicateur même, j’aurais pu le consulter, à la page Balbec-Douville par Doncières, avec la même heureuse tranquillité qu’un dictionnaire d’adresses. » Et elle dit à son institutrice de se dépêcher. — Mais, lui dis-je, est-ce que cela n’ennuie pas votre père ? — Pas le moins du monde. — Cependant, il avait peur que cela ne semble bizarre à cause de cet anniversaire. — Qu’est-ce que cela peut me faire ce que les autres pensent ?&quot;</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"></a>
<a class="sourceLine" id="cb5-18" data-line-number="18">[[<span class="dv">5</span>]]</a>
<a class="sourceLine" id="cb5-19" data-line-number="19">[<span class="dv">1</span>] <span class="st">&quot;Tout d’un coup, sur le sable de l’allée, tardive, alentie et luxuriante comme la plus belle fleur et qui ne s’ouvrirait qu’à midi, Mme Swann apparaissait, épanouissant autour d’elle une toilette toujours différente mais que je me rappelle surtout mauve ; puis elle hissait et déployait sur un long pédoncule, au moment de sa plus complète irradiation, le pavillon de soie d’une large ombrelle de la même nuance que l’effeuillaison des pétales de sa robe. Comment ? Derrière la barrière parfumée que lui faisait la beauté choisie, il était isolé au milieu d’un salon comme au milieu d’une salle de spectacle dans une loge et, quand on venait le saluer, au travers pour ainsi dire de la beauté de sa compagne, il était excusable de répondre fort brièvement et sans s’interrompre de parler à une femme. Elle et son mari furent, d’ailleurs, ainsi que le prince d’Agrigente, invités à ce dîner, que Mme Bontemps et Cottard eurent deux manières de raconter, selon les personnes à qui ils s’adressaient. Huit jours avant les Rogations !&quot;</span></a></code></pre></div>
</div>
<div id="proust_stopwords" class="section level3">
<h3><code>proust_stopwords()</code></h3>
<p>You can get a tibble of stopwords with:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">proust_stopwords</span>()</a></code></pre></div>
</div>
<div id="proust_sentiments" class="section level3">
<h3><code>proust_sentiments()</code></h3>
<p>Sentiment lexicon is launched with:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">proust_sentiments</span>()</a></code></pre></div>
<pre><code>## # A tibble: 14,127 x 2
##    word            polarity
##  * &lt;chr&gt;           &lt;chr&gt;   
##  1 à ce endroit là positive
##  2 à le hâte       negative
##  3 à part          negative
##  4 à pic           negative
##  5 à rallonge      negative
##  6 abasourdir      negative
##  7 ablation        negative
##  8 abominable      negative
##  9 abrupt          negative
## 10 absent          negative
## # ... with 14,117 more rows</code></pre>
<p>You can chose between polarity (positive or negative, which is the default behavior), or a score on six sentiments (joy, fear, sadness, anger, surprise, disgust) with <code>type = &quot;score&quot;</code>.</p>
</div>
</div>
<div id="pr_-functions" class="section level2">
<h2><code>pr_*()</code> functions</h2>
<p>Please bear in mind that all these functions are designed to work with a data.frame.</p>
<div id="pr_detect_days" class="section level3">
<h3><code>pr_detect_days()</code></h3>
<p>Detects the days from a data.frame (in French).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">text =</span> <span class="kw">c</span>(<span class="st">&quot;C'était lundi 1er mars et mardi 2&quot;</span>, <span class="st">&quot;Et mercredi 3&quot;</span>, <span class="st">&quot;Il est revenu jeudi.&quot;</span>))</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">pr_detect_days</span>(a, text)</a></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   text                              days      n_days
## * &lt;fct&gt;                             &lt;list&gt;     &lt;int&gt;
## 1 C'était lundi 1er mars et mardi 2 &lt;chr [2]&gt;      2
## 2 Et mercredi 3                     &lt;chr [1]&gt;      1
## 3 Il est revenu jeudi.              &lt;chr [1]&gt;      1</code></pre>
</div>
<div id="pr_detect_months" class="section level3">
<h3><code>pr_detect_months()</code></h3>
<p>Detects the months from a data.frame (in French).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">pr_detect_months</span>(a, text)</a></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   text                              months    n_months
## * &lt;fct&gt;                             &lt;list&gt;       &lt;int&gt;
## 1 C'était lundi 1er mars et mardi 2 &lt;chr [1]&gt;        1
## 2 Et mercredi 3                     &lt;chr [0]&gt;        0
## 3 Il est revenu jeudi.              &lt;chr [0]&gt;        0</code></pre>
</div>
<div id="pr_detect_pro" class="section level3">
<h3><code>pr_detect_pro()</code></h3>
<p>Detects the pronouns from a data.frame (in French). The shortcuts in the pronoun col stand for : + pps: first person singular (première personne du singulier) + dps: second person singular (deuxième personne du singulier) + tps: third person singular (troisième personne du singulier) + ppp: first person plural (première personne du pluriel) + dpp: second person singular (deuxième personne du pluriel) + tpp: third person singular (troisième personne du pluriel)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">proust_books</span>()[<span class="dv">1</span>,]</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">a &lt;-<span class="st"> </span><span class="kw">pr_detect_pro</span>(a, text)</a></code></pre></div>
<pre><code>## Called from: pr_detect_pro(a, text)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#48 :stop_if_not(inherits(df, &quot;data.frame&quot;), msg = &quot;df should be a data.frame&quot;)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#49 :col &lt;- quo_name(enquo(col))
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#50 :df$pps &lt;- str_extract_all(df[[col]], pattern = pronom_regex_pps)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#51 :df$dps &lt;- str_extract_all(df[[col]], pattern = pronom_regex_dps)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#52 :df$tps &lt;- str_extract_all(df[[col]], pattern = pronom_regex_tps)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#53 :df$ppp &lt;- str_extract_all(df[[col]], pattern = pronom_regex_ppp)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#54 :df$dpp &lt;- str_extract_all(df[[col]], pattern = pronom_regex_dpp)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#55 :df$tpp &lt;- str_extract_all(df[[col]], pattern = pronom_regex_tpp)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#56 :pos &lt;- which(names(df) == &quot;pps&quot;)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#57 :if (verbose) {
##     df &lt;- gather(df, key = &quot;pronoun&quot;, value = &quot;full_list&quot;, pos:length(df))
##     df &lt;- df[df$full_list != &quot;character(0)&quot;, ]
##     structure(df, class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))
## } else {
##     df[, pos:length(df)] &lt;- as.data.frame(lapply(df[, pos:length(df)], 
##         length_list))
##     df &lt;- gather(df, key = &quot;pronoun&quot;, value = &quot;count&quot;, pos:length(df))
##     df &lt;- df[df$count != 0, ]
##     structure(df, class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))
## }
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#62 :df[, pos:length(df)] &lt;- as.data.frame(lapply(df[, pos:length(df)], 
##     length_list))
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#63 :df &lt;- gather(df, key = &quot;pronoun&quot;, value = &quot;count&quot;, pos:length(df))
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#64 :df &lt;- df[df$count != 0, ]
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_detect_pronouns.R#65 :structure(df, class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw">select</span>(a, <span class="op">-</span>text)</a></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   book                  volume                     year pronoun count
## * &lt;chr&gt;                 &lt;chr&gt;                     &lt;dbl&gt; &lt;chr&gt;   &lt;int&gt;
## 1 Du côté de chez Swann Première partie : Combray 1913. pps        26
## 2 Du côté de chez Swann Première partie : Combray 1913. tps        13</code></pre>
</div>
<div id="pr_normalize_punc" class="section level3">
<h3><code>pr_normalize_punc()</code></h3>
<p>French has a weird punctuation use. For example, quotes are <code>«</code> and <code>»</code>, instead of <code>&quot;</code>. Other strange characters may include <code>՚</code>,<code>︐</code> or <code>’</code> for apostrophe. This function removes most of the punctuation idiosyncracy you can find in a french text.</p>
<p>Note: books from {proustr} have already been normalized.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">text =</span> <span class="st">&quot;Il l՚a dit : « La ponctuation est chelou » !&quot;</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw">pr_normalize_punc</span>(a, text)</a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   text                                           
## * &lt;chr&gt;                                          
## 1 &quot;Il l\&quot;a dit : \&quot;La ponctuation est chelou\&quot; !&quot;</code></pre>
<p>Why bother? Some text-mining tools perform a split with <code>'</code>, not with <code>՚</code>, a behavior which can lead to some error when tokenizing a text.</p>
</div>
<div id="pr_stem" class="section level3">
<h3><code>pr_stem()</code></h3>
<p>Turn your text into stems. This is an implementation of the {SnowballC} package in {proustr}.Please keep in mind that punctuation and capital letters are removed by this function.</p>
<p>You can stem a data.frame with a column containing sentences with <code>pr_stem_sentences</code> :</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">a &lt;-<span class="st"> </span>proustr<span class="op">::</span>laprisonniere[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,]</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">pr_stem_sentences</span>(a, text)</a></code></pre></div>
<pre><code>## Called from: pr_stem_sentences(a, text)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_stem.R#24 :stop_if_not(inherits(df, &quot;data.frame&quot;), msg = &quot;df should be a data.frame&quot;)
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_stem.R#25 :col &lt;- quo_name(enquo(col))
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_stem.R#26 :df[[col]] &lt;- as.character(lapply(df[[col]], pr_stem_vec, language = language))
## debug à /Users/colin/Seafile/documents_colin/R/proustr/R/pr_stem.R#27 :structure(df, class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))</code></pre>
<pre><code>## # A tibble: 10 x 4
##    text                                                 book  volume  year
##  * &lt;chr&gt;                                                &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1 des le matin la têt encor tourn contr le mur et ava… La P… Tome … 1923.
##  2 quand je pens mainten que mon ami était venu à notr… La P… Tome … 1923.
##  3 quand albertin sav par françois que dan la nuit de … La P… Tome … 1923.
##  4 le douleur sont de foll et qui le écout est encor p… La P… Tome … 1923.
##  5 je l'aim trop pour ne pas joyeux sourir de son mauv… La P… Tome … 1923.
##  6 une chanson d'adieu sort de sourc troubl             La P… Tome … 1923.
##  7 une nu pass elle éclips le soleil je voi s'éteindr … La P… Tome … 1923.
##  8 le cloison qui sépar nos deux cabinet de toilet cel… La P… Tome … 1923.
##  9 d'autr fois je rest couch rêv auss longtemp que je … La P… Tome … 1923.
## 10 je son françois j'ouvr le figaro j'y cherch et cons… La P… Tome … 1923.</code></pre>
<p>Or a column with words with <code>pr_stem_words</code> :</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">words =</span> <span class="kw">c</span>(<span class="st">&quot;matin&quot;</span>, <span class="st">&quot;heure&quot;</span>, <span class="st">&quot;fatigué&quot;</span>,<span class="st">&quot;sonné&quot;</span>,<span class="st">&quot;lois&quot;</span>, <span class="st">&quot;tests&quot;</span>,<span class="st">&quot;fusionner&quot;</span>))</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="kw">pr_stem_words</span>(a, words)</a></code></pre></div>
<pre><code>## # A tibble: 7 x 1
##   words 
## * &lt;chr&gt; 
## 1 matin 
## 2 heur  
## 3 fatigu
## 4 son   
## 5 lois  
## 6 test  
## 7 fusion</code></pre>
</div>
</div>
<div id="install-proustr" class="section level2">
<h2>Install proustr</h2>
<p>Install this package directly in R :</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;proustr&quot;</span>)</a></code></pre></div>
<p>From Github :</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;ColinFay/proustr&quot;</span>)</a></code></pre></div>
<div id="contact" class="section level3">
<h3>Contact</h3>
<p>Questions and feedbacks <a href="mailto:contact@colinfay.me">welcome</a>!</p>
<p>You want to contribute ? Open a <a href="https://github.com/ColinFay/proustr/pulls">PR</a> :) If you encounter a bug or want to suggest an enhancement, please <a href="https://github.com/ColinFay/proustr/issues">open an issue</a>.</p>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
